<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klangschale</title>
    <link rel="manifest" href="manifest.json">
     <link rel="stylesheet" href="style.css">

</head>


<body class="background-dark">
    <div class="center margin-top">
        <img src="Schale.jpg">
    </div>

    <div class="center margin-top timer" id="timer">00 : 00</div>

    <div class="center margin-top timer">
        <input type="number" id="timerInput" placeholder="besser 3 min mehr">
        <button id="startButton" onclick="startTimer()">Start</button> <!-- ID für den Startbutton hinzugefügt -->
    </div>

    <script>
        let alarm = new Audio('Schale.mp3');
        let timerStarted = false;
        let timerInput = document.getElementById('timerInput');

        function startTimer() {
            if (!timerStarted) {
                let zeit = parseInt(timerInput.value); // Die Benutzereingabe als Zeit in Minuten interpretieren

                if (!isNaN(zeit) && zeit >= 0) {
                    let startTime = new Date().getTime();
                    let fiveMinutes = 1000 * 60 * zeit;
                    let endTime = startTime + fiveMinutes;

                    alarm.play(); // Der Alarm wird einmal am Anfang abgespielt

                    setInterval(function() {
                        let timeLeft = endTime - new Date().getTime();

                        if (timeLeft > 0) {
                            let minutes = Math.floor(timeLeft / (1000 * 60));
                            let seconds = Math.floor((timeLeft / 1000) % 60);
                            seconds = ('0' + seconds).slice(-2);
                            let text = ('0' + minutes).slice(-2) + ' : ' + seconds;
                            document.getElementById('timer').innerHTML = text;
                        } else {
                            alarm.play(); // Der Alarm wird am Ende abgespielt
                            document.getElementById('timer').innerHTML = '00 : 00';
                        }
                    }, 1000);

                    timerStarted = true;
                } else {
                    alert('Bitte geben Sie eine gültige Zeit in Minuten ein.');
                }
            }
        }
    </script>
</body>

</html>


